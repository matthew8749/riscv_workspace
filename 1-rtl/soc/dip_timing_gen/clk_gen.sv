// +FHDR--------------------------------------------------------------------------------------------------------- //
// Project ____________                                                                                           //
// File name __________ clk_gen.sv                                                                                //
// Creator ____________ Yan, Wei-Ting                                                                             //
// Built Date _________ MMM-DD-YYYY                                                                               //
// Function ___________                                                                                           //
// Hierarchy __________                                                                                           //
//   Parent ___________                                                                                           //
//   Children _________                                                                                           //
// Revision history ___ Date        Author            Description                                                 //
//                  ___                                                                                           //
// -FHDR--------------------------------------------------------------------------------------------------------- //
//+...........+...................+.............................................................................. //
//3...........15..................35............................................................................. //
`timescale 1ns/10ps

module clk_gen
(
  input  wire                     src_clk,
  input  wire                     rst_n,

  output wire                     mem_clk,
  output wire                     ref_clk
);

// tag COMPONENTs and SIGNALs declaration --------------------------------------------------------------------------
  reg         [ 1: 0]             st_cnt;
  reg                             st_mem_clk;
  reg                             st_ref_clk;

// tag OUTs assignment ---------------------------------------------------------------------------------------------

assign  mem_clk = st_mem_clk;
assign  ref_clk = st_ref_clk;

// tag INs assignment ----------------------------------------------------------------------------------------------
// tag COMBINATIONAL LOGIC -----------------------------------------------------------------------------------------
// tag COMBINATIONAL PROCESS ---------------------------------------------------------------------------------------
// tag SEQUENTIAL LOGIC --------------------------------------------------------------------------------------------
// ***********************/**/**\**\****/**/**\**\****/**/**\**\****/**/**\**\****/**/**\**\****/**/**\**\****/**/**
//                       /**/****\**\**/**/****\**\**/**/****\**\**/**/****\**\**/**/****\**\**/**/****\**\**/**/***
// *********************/**/******\**\/**/******\**\/**/******\**\/**/******\**\/**/******\**\/**/******\**\/**/****

always@(posedge src_clk or negedge rst_n) begin
  if (!rst_n)
    st_cnt <= 2'b0;
  else
    st_cnt <= st_cnt + 1'b1;
end


always@(posedge src_clk or negedge rst_n) begin
  if (!rst_n)
    st_ref_clk <= 1'b0;
  else
    st_ref_clk <= (st_cnt == 2'd0 || st_cnt == 2'd2) ? ~st_ref_clk : st_ref_clk;
end


always@(posedge src_clk or negedge rst_n) begin
  if (!rst_n)
    st_mem_clk <= 1'b0;
  else
    st_mem_clk <=  ~st_mem_clk;
end

endmodule